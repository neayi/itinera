# Dockerfile for development
FROM node:22-alpine

RUN apk add --no-cache libc6-compat bash

WORKDIR /app

# Copy package files and scripts needed for postinstall
COPY package.json package-lock.json* ./
COPY scripts ./scripts

# Install dependencies
RUN npm install

# Copy only config files that are needed
COPY next.config.js ./
COPY tsconfig.json ./
COPY postcss.config.js ./
COPY tailwind.config.js ./
COPY next-env.d.ts ./

# DON'T copy source code - it will be mounted via volumes
# This allows hot reload to work properly

# Expose port
EXPOSE 3000

# Run development server
CMD ["npm", "run", "dev"]
